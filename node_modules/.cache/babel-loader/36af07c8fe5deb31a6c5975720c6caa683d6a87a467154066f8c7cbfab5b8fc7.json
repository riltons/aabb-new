{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { supabase } from '../supabaseClient';\nexport function useAuth() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const session = supabase.auth.getSession().then(({\n      data: {\n        session\n      }\n    }) => {\n      var _session$user;\n      setUser((_session$user = session === null || session === void 0 ? void 0 : session.user) !== null && _session$user !== void 0 ? _session$user : null);\n      setLoading(false);\n    });\n    const {\n      data: listener\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      var _session$user2;\n      setUser((_session$user2 = session === null || session === void 0 ? void 0 : session.user) !== null && _session$user2 !== void 0 ? _session$user2 : null);\n    });\n    return () => {\n      listener.subscription.unsubscribe();\n    };\n  }, []);\n  const signOut = async () => {\n    await supabase.auth.signOut();\n    setUser(null);\n  };\n  return {\n    user,\n    loading,\n    signOut\n  };\n}\n_s(useAuth, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");","map":{"version":3,"names":["useEffect","useState","supabase","useAuth","_s","user","setUser","loading","setLoading","session","auth","getSession","then","data","_session$user","listener","onAuthStateChange","_event","_session$user2","subscription","unsubscribe","signOut"],"sources":["C:/Users/rilto/Downloads/projetos/aabb-new/src/hooks/useAuth.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { supabase } from '../supabaseClient';\n\nexport function useAuth() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const session = supabase.auth.getSession().then(({ data: { session } }) => {\n      setUser(session?.user ?? null);\n      setLoading(false);\n    });\n    const { data: listener } = supabase.auth.onAuthStateChange((_event, session) => {\n      setUser(session?.user ?? null);\n    });\n    return () => {\n      listener.subscription.unsubscribe();\n    };\n  }, []);\n\n  const signOut = async () => {\n    await supabase.auth.signOut();\n    setUser(null);\n  };\n\n  return { user, loading, signOut };\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,mBAAmB;AAE5C,OAAO,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACxB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACd,MAAMS,OAAO,GAAGP,QAAQ,CAACQ,IAAI,CAACC,UAAU,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;MAAEC,IAAI,EAAE;QAAEJ;MAAQ;IAAE,CAAC,KAAK;MAAA,IAAAK,aAAA;MACzER,OAAO,EAAAQ,aAAA,GAACL,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEJ,IAAI,cAAAS,aAAA,cAAAA,aAAA,GAAI,IAAI,CAAC;MAC9BN,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;IACF,MAAM;MAAEK,IAAI,EAAEE;IAAS,CAAC,GAAGb,QAAQ,CAACQ,IAAI,CAACM,iBAAiB,CAAC,CAACC,MAAM,EAAER,OAAO,KAAK;MAAA,IAAAS,cAAA;MAC9EZ,OAAO,EAAAY,cAAA,GAACT,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEJ,IAAI,cAAAa,cAAA,cAAAA,cAAA,GAAI,IAAI,CAAC;IAChC,CAAC,CAAC;IACF,OAAO,MAAM;MACXH,QAAQ,CAACI,YAAY,CAACC,WAAW,CAAC,CAAC;IACrC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1B,MAAMnB,QAAQ,CAACQ,IAAI,CAACW,OAAO,CAAC,CAAC;IAC7Bf,OAAO,CAAC,IAAI,CAAC;EACf,CAAC;EAED,OAAO;IAAED,IAAI;IAAEE,OAAO;IAAEc;EAAQ,CAAC;AACnC;AAACjB,EAAA,CAvBeD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}