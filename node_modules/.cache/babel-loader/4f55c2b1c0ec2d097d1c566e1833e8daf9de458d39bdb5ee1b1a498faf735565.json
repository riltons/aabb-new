{"ast":null,"code":"import{useEffect,useState}from'react';import{supabase}from'../supabaseClient';export function useAuth(){const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const session=supabase.auth.getSession().then(_ref=>{var _session$user;let{data:{session}}=_ref;setUser((_session$user=session===null||session===void 0?void 0:session.user)!==null&&_session$user!==void 0?_session$user:null);setLoading(false);});const{data:listener}=supabase.auth.onAuthStateChange((_event,session)=>{var _session$user2;setUser((_session$user2=session===null||session===void 0?void 0:session.user)!==null&&_session$user2!==void 0?_session$user2:null);});return()=>{listener.subscription.unsubscribe();};},[]);const signOut=async()=>{await supabase.auth.signOut();setUser(null);};return{user,loading,signOut};}","map":{"version":3,"names":["useEffect","useState","supabase","useAuth","user","setUser","loading","setLoading","session","auth","getSession","then","_ref","_session$user","data","listener","onAuthStateChange","_event","_session$user2","subscription","unsubscribe","signOut"],"sources":["C:/Users/rilto/Downloads/projetos/aabb-new/src/hooks/useAuth.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { supabase } from '../supabaseClient';\n\nexport function useAuth() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const session = supabase.auth.getSession().then(({ data: { session } }) => {\n      setUser(session?.user ?? null);\n      setLoading(false);\n    });\n    const { data: listener } = supabase.auth.onAuthStateChange((_event, session) => {\n      setUser(session?.user ?? null);\n    });\n    return () => {\n      listener.subscription.unsubscribe();\n    };\n  }, []);\n\n  const signOut = async () => {\n    await supabase.auth.signOut();\n    setUser(null);\n  };\n\n  return { user, loading, signOut };\n}\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,QAAQ,KAAQ,mBAAmB,CAE5C,MAAO,SAAS,CAAAC,OAAOA,CAAA,CAAG,CACxB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGJ,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACK,OAAO,CAAEC,UAAU,CAAC,CAAGN,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAQ,OAAO,CAAGN,QAAQ,CAACO,IAAI,CAACC,UAAU,CAAC,CAAC,CAACC,IAAI,CAACC,IAAA,EAA2B,KAAAC,aAAA,IAA1B,CAAEC,IAAI,CAAE,CAAEN,OAAQ,CAAE,CAAC,CAAAI,IAAA,CACpEP,OAAO,EAAAQ,aAAA,CAACL,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEJ,IAAI,UAAAS,aAAA,UAAAA,aAAA,CAAI,IAAI,CAAC,CAC9BN,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACF,KAAM,CAAEO,IAAI,CAAEC,QAAS,CAAC,CAAGb,QAAQ,CAACO,IAAI,CAACO,iBAAiB,CAAC,CAACC,MAAM,CAAET,OAAO,GAAK,KAAAU,cAAA,CAC9Eb,OAAO,EAAAa,cAAA,CAACV,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEJ,IAAI,UAAAc,cAAA,UAAAA,cAAA,CAAI,IAAI,CAAC,CAChC,CAAC,CAAC,CACF,MAAO,IAAM,CACXH,QAAQ,CAACI,YAAY,CAACC,WAAW,CAAC,CAAC,CACrC,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,OAAO,CAAG,KAAAA,CAAA,GAAY,CAC1B,KAAM,CAAAnB,QAAQ,CAACO,IAAI,CAACY,OAAO,CAAC,CAAC,CAC7BhB,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,MAAO,CAAED,IAAI,CAAEE,OAAO,CAAEe,OAAQ,CAAC,CACnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}